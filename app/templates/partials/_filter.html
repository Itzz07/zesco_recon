<!-- Toggle Filters Button -->
<button class="btn btn-outline-secondary mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#filterSection">
  🔍 Show/Hide Filters
</button>

<!-- Filters Section -->
<div class="collapse show" id="filterSection">
  <form method="get" class="row gy-2 gx-3 align-items-end mb-4">

    <!-- Meter Filter -->
    <div class="col-md-auto">
      <label for="meter" class="form-label fw-bold">Meter:</label>
      <select name="meter" id="meter" class="form-select" onchange="this.form.submit()">
        <option value="">All Meters</option>
        {% for meter in meter_numbers %}
          <option value="{{ meter }}" {% if meter == selected_meter %}selected{% endif %}>{{ meter }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Start Date -->
    <div class="col-md-auto">
      <label for="start" class="form-label fw-bold">Start Date:</label>
      <input type="date" name="start" id="start" class="form-control" value="{{ request.args.get('start', '') }}">
    </div>

    <!-- End Date -->
    <div class="col-md-auto">
      <label for="end" class="form-label fw-bold">End Date:</label>
      <input type="date" name="end" id="end" class="form-control" value="{{ request.args.get('end', '') }}">
    </div>

    <!-- Submit + Reset -->
    <div class="col-md-auto d-flex align-items-end gap-2">
      <button type="submit" class="btn btn-primary">Apply</button>
      <a href="{{ url_for('main.index') }}" class="btn btn-outline-danger">Reset</a>
    </div>
  </form>
</div>
